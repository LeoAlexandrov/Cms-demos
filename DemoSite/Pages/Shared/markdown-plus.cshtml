@using Markdig;
@using HCms.Content.ViewModels
@model Fragment

@{
	string id = Model.DomId;
	string extraFragmentClass = Model.Attributes?.GetValueOrDefault("bootstrap:class");
	var items = Model.Props.item;
	int n = items.Length;
}

<div id="@id" class="@Model.BasicCssClass @extraFragmentClass">
	@for (int i = 0; i< n; i++)
	{
		var pict = items[i].picture;
		string text = Markdown.ToHtml(items[i].text);

		@if (pict != null)
		{
			@await Html.PartialAsync("picture", new Fragment(Model, "picture", pict), ViewData)
		}
		@Html.Raw(text)
	}
</div>